{
  "openapi": "3.0.0",
  "info": {
    "version": "1",
    "title": "ASEC OpanAPI definition",
    "description": ""
  },
  "paths": {
    "/api/v1/works": {
      "get": {
        "operationId": "GetWorks",
        "description": "Get all works in the database.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Work"
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "AddWork",
        "description": "Add a new work to the database.",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Work"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The newly created work (with id)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Work"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/tools": {
      "get": {
        "operationId": "GetDigitalizationTools",
        "description": "Acquire a list of available digitalization tools. This will depend on both configuration and actual availability of physical devices needed by the various tool implementations for digitalization.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DigitalizationTool"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/tools/{toolId}": {
      "get": {
        "operationId": "GetDigitalizationTool",
        "description": "Get a specific digitalization tool using its ID. To get a list of available IDs, see GetDigitalizationTools",
        "parameters": [
          {
            "in": "path",
            "name": "toolId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalizationTool"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/start": {
      "put": {
        "operationId": "StartDigitalizationWithToolForVersion",
        "description": "Start the process of digitizing a physical media using the tool specified in the digitalization request. The request includes reference to a Version for which the media should be digitalized.",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DigitalizationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The newly started digitalization process",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalizationProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/{processId}/status": {
      "get": {
        "operationId": "GetDigitalizationProcessStatus",
        "description": "Get the status of the specified digitalization process.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalizationProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/works/{workId}": {
      "get": {
        "operationId": "GetWork",
        "description": "Get the details of the specified work.",
        "parameters": [
          {
            "in": "path",
            "name": "workId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Work"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/works/{workId}/versions": {
      "get": {
        "operationId": "GetWorkVersions",
        "description": "Get all versions of the specified work.",
        "parameters": [
          {
            "in": "path",
            "name": "workId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Version"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/works/{workId}/paratexts": {
      "get": {
        "operationId": "GetWorkParatexts",
        "description": "Get all paratexts of the specified work.",
        "parameters": [
          {
            "in": "path",
            "name": "workId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Paratext"
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "AddWorkParatext",
        "description": "Add a new paratext to the specified work.",
        "parameters": [
          {
            "in": "path",
            "name": "workId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Paratext"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Paratext"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/emulators": {
      "get": {
        "operationId": "GetEmulators",
        "description": "Get the configured available emulators.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Emulator"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/works/{workid}": {
      "post": {
        "operationId": "UpdateWork",
        "description": "Update the details of the specified work.",
        "parameters": [
          {
            "in": "path",
            "name": "workid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Work"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated work",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Work"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/{processId}/restart": {
      "post": {
        "operationId": "RestartDigitalizationProcess",
        "description": "Request that a digitalization process is restarted. This will result in the current process being cancelled and a new process being started with the same arguments.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalizationProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/versions": {
      "put": {
        "operationId": "AddWorkVersion",
        "description": "Create a new work version with the specified details (a new ID will be generated).",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Version"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Version"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/versions/{versionId}": {
      "get": {
        "operationId": "GetWorkVersion",
        "description": "Get the details of the specified work version.",
        "parameters": [
          {
            "in": "path",
            "name": "versionId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Version"
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "UpdateWorkVersion",
        "description": "Update the specified version with new details.",
        "parameters": [
          {
            "in": "path",
            "name": "versionId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Version"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Version"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/versions/{versionId}/artefacts": {
      "get": {
        "operationId": "GetVersionArtefacts",
        "description": "Get all artefacts tied to the specified work version.",
        "parameters": [
          {
            "in": "path",
            "name": "versionId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Artefact"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/versions/{versionId}/paratexts": {
      "get": {
        "operationId": "GetVersionParatexts",
        "description": "Get all paratexts for the specified version.",
        "parameters": [
          {
            "in": "path",
            "name": "versionId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Paratext"
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "AddVersionParatext",
        "description": "Add a new paratext with the specified details to the specified version.",
        "parameters": [
          {
            "in": "path",
            "name": "versionId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Paratext"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Paratext"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/artefacts/{artefactId}": {
      "get": {
        "operationId": "GetVersionArtefact",
        "description": "Gets the specified artefact's details.",
        "parameters": [
          {
            "in": "path",
            "name": "artefactId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Artefact"
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "UpdateVersionArtefact",
        "description": "Update the details of the specified artefact.",
        "parameters": [
          {
            "in": "path",
            "name": "artefactId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Artefact"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated artefact.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Artefact"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/{processId}/input": {
      "post": {
        "operationId": "ProvideDigitalizationInput",
        "description": "If a digitalization process is in the WaitingForInput state, provide the input it is waiting for in the form of a string.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DigitalizationInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalizationProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/{processId}/log": {
      "get": {
        "operationId": "GetProcessLog",
        "description": "Get the text log file of a running digitalization process",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Output log of the processing tool.",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/{processId}/finalize": {
      "post": {
        "operationId": "FinalizeVersionArtefact",
        "description": "Finalize a successful digitalization process to persist the results and create the resulting Artefact.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Artefact"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The newly created artefact.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Artefact"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/{processId}/stop": {
      "post": {
        "operationId": "StopDigitalizationProcess",
        "description": "Start the process of digitizing a physical media using the tool specified in the digitalization request. The request includes reference to a Version for which the media should be digitalized.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DigitalizationProcess"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The stopped process",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalizationProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversion/start": {
      "put": {
        "operationId": "StartConversionForEmulator",
        "description": "Request that a conversion for the specified emulator be started, using the specified artefacts. This will create a process that can later be checked for status and progress, and needs to be explicitly finished for the results to persist.",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The newly started conversion process",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversionProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversion/{processId}/status": {
      "get": {
        "operationId": "GetConversionProcessStatus",
        "description": "Fetches the current status of the specified process.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversionProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversion/{processId}/stop": {
      "post": {
        "operationId": "StopConversionProcess",
        "description": "Request that the specified process be stopped. This will result in discarding any data created during the process.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversionProcess"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversionProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversion/{processId}/log": {
      "get": {
        "operationId": "GetConversionProcessLog",
        "description": "Fetches the text log of a running process.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversion/{processId}/restart": {
      "post": {
        "operationId": "RestartConversionProcess",
        "description": "Request that an existing conversion process is restarted. The system will stop the current process and create a new one with the same parameters as the original.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversionProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversion/{processId}/finalize": {
      "post": {
        "operationId": "FinalizeConversionProcess",
        "description": "Finalize the conversion process, taking the resulting files and uploading them to EaaS in preparation to attach them to an emulator environment/VM. The finalized process is expected to be in the Success state.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GamePackage"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The newly created GamePackage ready for emulation.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GamePackage"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/digitalization/{processId}/upload/{uploadId}": {
      "post": {
        "operationId": "UploadDigitalizationFile",
        "description": "Upload a file if this is requested by the digitalization process.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "uploadId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/octet-stream": {
              "schema": {
                "type": "string"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalizationProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/versions/{versionId}/packages": {
      "get": {
        "operationId": "GetVersionGamePackages",
        "description": "Get all game packages tied to the specified work version.",
        "parameters": [
          {
            "in": "path",
            "name": "versionId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GamePackage"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/packages/{packageId}": {
      "get": {
        "operationId": "GetGamePackage",
        "description": "Get the details of the specified GamePackage.",
        "parameters": [
          {
            "in": "path",
            "name": "packageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GamePackage"
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "UpdateGamePackage",
        "description": "Update GamePackage metadata.",
        "parameters": [
          {
            "in": "path",
            "name": "packageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GamePackage"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GamePackage"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/packages/{packageId}/emulate": {
      "get": {
        "operationId": "EmulateGamePackage",
        "description": "Start emulation for the specified game package. Makes the appropriate setup using EaaS.",
        "parameters": [
          {
            "in": "path",
            "name": "packageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmulationState"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/packages/{packageId}/paratexts": {
      "get": {
        "operationId": "GetPackageParatexts",
        "description": "Get paratexts for the specified game package.",
        "parameters": [
          {
            "in": "path",
            "name": "packageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Paratext"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/emulation/{emulationId}/finish": {
      "post": {
        "operationId": "FinishEmulation",
        "description": "End a running emulation, optionally saving recordings.",
        "parameters": [
          {
            "in": "path",
            "name": "emulationId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmulationFinishRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmulationState"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/emulation/{emulationId}/video": {
      "get": {
        "operationId": "GetVideoStreamFrame",
        "description": "Get an URL that can be used to watch the video stream of a running emulation process. Useful for including via an iframe.",
        "parameters": [
          {
            "in": "path",
            "name": "emulationId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/emulation/{emulationId}/ping": {
      "get": {
        "operationId": "PingRunningEmulation",
        "description": "Ping a running emulation to ensure it is not deleted for inactivity. Also returns the current state of the emulation process.",
        "parameters": [
          {
            "in": "path",
            "name": "emulationId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmulationState"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversion/{processId}/input": {
      "post": {
        "operationId": "ProvideConversionInput",
        "description": "Provide a text input to the digitalization process.",
        "parameters": [
          {
            "in": "path",
            "name": "processId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversionInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversionProcess"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/platforms": {
      "get": {
        "operationId": "GetPlatforms",
        "description": "Get all available (configured) platforms.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Platform"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/platforms/{platformName}/emulators": {
      "get": {
        "operationId": "GetEmulatorsForPlatform",
        "description": "Get all emulators for the specified platform.",
        "parameters": [
          {
            "in": "path",
            "name": "platformName",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Emulator"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/paratexts/{paratextId}": {
      "get": {
        "operationId": "GetParatext",
        "description": "Get the details of the specified paratext.",
        "parameters": [
          {
            "in": "path",
            "name": "paratextId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Paratext"
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "UpdateParatext",
        "description": "Update the details of the specified paratext.",
        "parameters": [
          {
            "in": "path",
            "name": "paratextId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Paratext"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Paratext"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/paratexts/{paratextId}/upload/{filename}": {
      "post": {
        "operationId": "UploadParatextFile",
        "description": "Add a file to the paratext. This file will then be available for download.",
        "parameters": [
          {
            "in": "path",
            "name": "paratextId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }, {
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Byte stream of the file being uploaded.",
          "content": {
            "application/octet-stream": {
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Paratext"
                }
              }
            }
          },
          "403": {
            "description": "Returned when the Paratext already has an uploaded file - overwriting is not supported."
          }
        }
      }
    },
    "/api/v1/paratexts/{paratextId}/download": {
      "get": {
        "operationId": "DownloadParatextFile",
        "description": "Download the file of the specified paratext.",
        "parameters": [
          {
            "in": "path",
            "name": "paratextId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {},
    "schemas": {
      "DigitalizationTool": {
        "properties": {
          "id": {
            "description": "GUID of the digitalization tool.",
            "nullable": false,
            "type": "string"
          },
          "slug": {
            "description": "Identifier useful for identifying the type of the tool for UI purposes."
          },
          "name": {
            "description": "Name of the tool, possibly referencing the used hardware as well.",
            "nullable": false,
            "type": "string"
          },
          "version": {
            "description": "Version of the digitalization tool. Can contain both software and hardware versions.",
            "nullable": false,
            "type": "string"
          },
          "physicalMediaType": {
            "description": "Media type supported by this particular tool. If the used software/hardware supports multiple media types, these will be presented as separate digitalization tools.",
            "nullable": false,
            "type": "string"
          },
          "isAvailable": {
            "description": "Whether the tool is available. If a tool is configured on the server side but missing required software or hardware components, it will be marked as not available.",
            "nullable": false,
            "type": "boolean"
          }
        }
      },
      "Work": {
        "properties": {
          "id": {
            "readOnly": true,
            "description": "GUID of the Work representing a single game.",
            "nullable": false,
            "type": "string"
          },
          "title": {
            "description": "Main title of the Work.",
            "nullable": false,
            "type": "string"
          },
          "alternativeTitle": {
            "description": "Alternative title of the Work.",
            "nullable": true,
            "type": "string"
          },
          "subheading": {
            "description": "Subheading of the main title of the Work.",
            "nullable": true,
            "type": "string"
          },
          "description": {
            "description": "Short description of the Work.",
            "nullable": true,
            "type": "string"
          },
          "yearOfPublication": {
            "description": "Year of the Work's publication if available, broader time specification if a concrete year is not known.",
            "nullable": true,
            "type": "string"
          },
          "genre": {
            "description": "List of genres this Work falls into.",
            "nullable": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "classificationByTime": {
            "description": "Work classification decided by its publication year.",
            "nullable": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "classificationByLocation": {
            "description": "Work classification decided by its publication or development location.",
            "nullable": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "Version": {
        "properties": {
          "id": {
            "readOnly": true,
            "description": "GUID of the Version of a game.",
            "nullable": false,
            "type": "string"
          },
          "workId": {
            "readOnly": true,
            "description": "GUID of the associated Work.",
            "nullable": false,
            "type": "string"
          },
          "status": {
            "description": "Current status of this particular Version (i.e. 'in publication', 'abandonware', etc.)",
            "nullable": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "title": {
            "description": "Title of this particular version of the Work (can be identical).",
            "nullable": true,
            "type": "string"
          },
          "alternativeTitle": {
            "description": "Alternative title of this particular version of the Work (can be identical).",
            "nullable": true,
            "type": "string"
          },
          "yearOfPublication": {
            "description": "Year of publication for this Version.",
            "nullable": true,
            "type": "string"
          },
          "system": {
            "description": "Systems which are supported by this Version of the Work.",
            "nullable": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "systemRequirements": {
            "description": "Minimum system requirements to run this Version.",
            "nullable": true,
            "type": "string"
          },
          "note": {
            "description": "Generic note field.",
            "nullable": true,
            "type": "string"
          }
        }
      },
      "DigitalizationProcess": {
        "properties": {
          "processId": {
            "description": "GUID of this created process.",
            "nullable": false,
            "type": "string"
          },
          "toolId": {
            "description": "GUID of the tool used to create and start this process.",
            "nullable": false,
            "type": "string"
          },
          "status": {
            "description": "Current status of the process.",
            "enum": [
              "Initialization",
              "Running",
              "WaitingForInput",
              "WaitingForProcess",
              "Failed",
              "Success",
              "Restarting"
            ],
            "nullable": false,
            "type": "string"
          },
          "statusDetail": {
            "description": "Tool-specific detail of the current process' status.",
            "nullable": false,
            "type": "string"
          },
          "startTime": {
            "description": "Date and time when the process was started.",
            "nullable": false,
            "type": "string"
          }
        }
      },
      "Emulator": {
        "properties": {
          "id": {
            "description": "GUID of the emulator.",
            "nullable": false,
            "type": "string"
          },
          "name": {
            "description": "Name of the emulator.",
            "nullable": false,
            "type": "string"
          },
          "homepage": {
            "description": "Home URL of the emulator.",
            "nullable": false,
            "type": "string"
          },
          "version": {
            "description": "Version of this instance of the emulator.",
            "nullable": false,
            "type": "string"
          },
          "platforms": {
            "description": "Platforms supported by this emulator.",
            "nullable": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "DigitalizationInput": {
        "properties": {
          "data": {
            "description": "Tool-specific input data.",
            "nullable": false,
            "type": "string"
          }
        }
      },
      "Artefact": {
        "properties": {
          "id": {
            "readOnly": true,
            "description": "Internally a GUID, generated by the backend. Should be left out for endpoints that require Artefact as input.",
            "nullable": false,
            "type": "string"
          },
          "versionId": {
            "readOnly": true,
            "description": "GUID of the associated version. Should be left out for endpoints that require Artefact as input.",
            "nullable": false,
            "type": "string"
          },
          "name": {
            "description": "Name of the artefact (can be identical to Version or Work name).",
            "nullable": false,
            "type": "string"
          },
          "physicalMediaState": {
            "description": "Assessment of the state of the physical source media. Up to the user.",
            "nullable": false,
            "type": "string"
          },
          "archivationDate": {
            "readOnly": true,
            "description": "Date and time when the digitalization process took place. Should be left out for endpoints that require Artefact as input.",
            "nullable": false,
            "type": "string"
          },
          "archiver": {
            "description": "Name or identifier of the person who performed digitalization of this Artefact.",
            "nullable": false,
            "type": "string"
          },
          "note": {
            "description": "Any additional notes regarding the process, media or Artefact.",
            "nullable": false,
            "type": "string"
          },
          "type": {
            "readOnly": true,
            "description": "What type of artefact this is (SFM floppy file, ZIP archive, etc.). Should be left out for endpoints that require Artefact as input.",
            "nullable": false,
            "type": "string"
          },
          "physicalMediaType": {
            "readOnly": true,
            "description": "Type of the source media used for digitalization. Process metadata. Should be left out for endpoints that require Artefact as input.",
            "nullable": false,
            "type": "string"
          },
          "originalFileName": {
            "readOnly": true,
            "description": "Filename of the digitalization file, as was created during the digitalization process.",
            "nullable": false,
            "type": "string"
          },
          "digitalizationToolId": {
            "readOnly": true,
            "description": "GUID of the tool used for digitalization. Should be left out for endpoints that require Artefact as input.",
            "nullable": false,
            "type": "string"
          }
        }
      },
      "DigitalizationRequest": {
        "properties": {
          "toolId": {
            "description": "GUID of the tool to use for digitalization.",
            "nullable": false,
            "type": "string"
          },
          "versionId": {
            "description": "GUID of the version with which the resulting Artefact will be associated.",
            "nullable": false,
            "type": "string"
          }
        }
      },
      "ConversionRequest": {
        "properties": {
          "emulatorId": {
            "description": "GUID of the emulator for which the conversion is requested.",
            "nullable": false,
            "type": "string"
          },
          "artefactIds": {
            "description": "Collection of GUIDs of Artefacts which should be included in this conversion. For example a single floppy disk or a collection of CDs for multi-CD titles.",
            "nullable": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ConversionProcess": {
        "properties": {
          "processId": {
            "description": "GUID of the created conversion process.",
            "nullable": false,
            "type": "string"
          },
          "emulatorId": {
            "description": "GUID of the emulator for which conversion is being done.",
            "nullable": false,
            "type": "string"
          },
          "status": {
            "description": "Current status of the process.",
            "enum": [
              "Initialization",
              "Running",
              "WaitingForInput",
              "WaitingForProcess",
              "Failed",
              "Success",
              "Restarting"
            ],
            "nullable": false,
            "type": "string"
          },
          "statusDetail": {
            "description": "Convertor-dependent detail string for the current process status.",
            "nullable": false,
            "type": "string"
          },
          "startTime": {
            "description": "Date and time when the conversion process started.",
            "nullable": false,
            "type": "string"
          },
          "artefactIds": {
            "description": "Collection of GUIDs representing the Artefacts which are being converted.",
            "nullable": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "GamePackage": {
        "properties": {
          "id": {
            "readOnly": true,
            "description": "GUID of this GamePackage.",
            "nullable": false,
            "type": "string"
          },
          "name": {
            "description": "Name of this GamePackage",
            "nullable": false,
            "type": "string"
          },
          "includedArtefactIds": {
            "readOnly": true,
            "description": "GUIDs of all Artefacts included in this GamePackage.",
            "nullable": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "versionId": {
            "readOnly": true,
            "description": "GUID of the Version of a Work from which this GamePackage was created.",
            "nullable": false,
            "type": "string"
          },
          "emulatorId": {
            "readOnly": true,
            "description": "GUID of the Emulator for which this game package was created and its Artefacts converted.",
            "nullable": false,
            "type": "string"
          },
          "conversionDate": {
            "readOnly": true,
            "description": "Date and time when conversion of Artefacts for this GamePackage took place.",
            "nullable": false,
            "type": "string"
          }
        }
      },
      "EmulationRequest": {
        "properties": {
          "packageId": {
            "description": "GUID of GamePackage which should be started. All other info required for emulation is already included in the respective GamePackage.",
            "nullable": false,
            "type": "string"
          }
        }
      },
      "EmulationState": {
        "properties": {
          "id": {
            "description": "GUID of the currently running emulation.",
            "nullable": false,
            "type": "string"
          },
          "packageId": {
            "description": "GUID of the GamePackage used to start this emulation.",
            "nullable": false,
            "type": "string"
          },
          "status": {
            "description": "Status of the emulation.",
            "nullable": false,
            "type": "string"
          },
          "statusDetail": {
            "description": "Emulator-specific detail string for the current status.",
            "nullable": false,
            "type": "string"
          },
          "isGpuPassthrough": {
            "description": "Whether the system's dedicated GPU is being passed through to the virtual machine.",
            "nullable": false,
            "type": "boolean"
          },
          "isUsbPassthrough": {
            "description": "Whether USB devices are being passed through to the virtual machine.",
            "nullable": false,
            "type": "boolean"
          }
        }
      },
      "ConversionInput": {
        "properties": {
          "data": {
            "description": "Converter-specific input data.",
            "nullable": false,
            "type": "string"
          }
        }
      },
      "EmulationFinishRequest": {
        "properties": {
          "keepScreenRecording": {
            "description": "Whether screen recording should be kept or (in case of false) permanently deleted.",
            "nullable": false,
            "type": "boolean"
          },
          "keepWebcamRecording": {
            "description": "Whether recording of the webcam stream should be kept or (in case of false) permanently deleted.",
            "nullable": false,
            "type": "boolean"
          },
          "saveMachineState": {
            "description": "Whether the current state of the emulated machine should be saved so that it can be continued at a later date.",
            "nullable": false,
            "type": "boolean"
          }
        }
      },
      "Platform": {
        "properties": {
          "name": {
            "description": "Name of this gaming platform. Also serves as key instead of a separate ID.",
            "nullable": false,
            "type": "string"
          },
          "physicalMediaTypes": {
            "description": "Types of physical media supported by this platform. Can be used to filter relevant Artefacts based on media type.",
            "nullable": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "Paratext": {
        "properties": {
          "id": {
            "readOnly": true,
            "description": "GUID of the Paratext.",
            "nullable": false,
            "type": "string"
          },
          "workId": {
            "readOnly": true,
            "description": "GUID of the Work this Paratext belongs to. A paratext will always belong to at least a Work, but can belong to one of the sub objects as well (Version or Package).",
            "nullable": false,
            "type": "string"
          },
          "versionId": {
            "readOnly": true,
            "description": "GUID of the Version this Paratext belongs to. Will be null if this Paratext does not belong to a Version",
            "nullable": true,
            "type": "string"
          },
          "packageId": {
            "readOnly": true,
            "description": "GUID of the Package this Paratext belongs to. In this case the Paratext is a recording of some kind. If this Paratext does not belong to a Package, packageId will be null.",
            "nullable": true,
            "type": "string"
          },
          "name": {
            "description": "Name of this Paratext.",
            "nullable": false,
            "type": "string"
          },
          "description": {
            "description": "Description of this Paratext.",
            "nullable": false,
            "type": "string"
          },
          "source": {
            "description": "Source of this Paratext. Verbal description.",
            "nullable": false,
            "type": "string"
          },
          "sourceUrl": {
            "description": "Source Url of this Paratext, in case it was scraped/downloaded from somewhere or is available at this location.",
            "nullable": true,
            "type": "string"
          },
          "downloadable": {
            "readOnly": true,
            "description": "Information whether this Paratext can be downloaded through the /download endpoint.",
            "type": "boolean"
          },
          "thumbnail": {
            "description": "Thumbnail definition for this Paratext. Will start with 'url:' if the thumbnail should be fetched. Otherwise will start with 'template:' if a generic icon should be used. The following generic icons should be supported: link, document, archive, sound, image, video. Image and video will usually have a 'url:' thumbnail, but should be supported as well in case a real thumbnail couldn't be generated.",
            "nullable": false,
            "type": "string"
          }
        }
      }
    }
  }
}